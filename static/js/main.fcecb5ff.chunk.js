(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],[,,,function(e,t,n){"use strict";var a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var l=arguments[t],c=0,i=l.length;c<i;c++,r++)a[r]=l[c];return a};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=r.useState(!1),n=t[0],l=t[1],c=r.useRef(null),i=r.useRef(!0),u=r.useRef(!1),o=r.useRef(null),s=r.useRef(a(Array(e)).map((function(){return r.createRef()}))),m=function(e){var t;c.current=e,null===(t=s.current[e].current)||void 0===t||t.focus()};r.useEffect((function(){i.current?i.current=!1:n&&!u.current?m(0):n||(u.current=!1)}),[n]),r.useEffect((function(){var e=function(e){n&&setTimeout((function(){e.target instanceof Element&&(e.target.closest('[role="menu"]')instanceof Element||l(!1))}),10)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}),[n]);var f=function(e){if(function(e){return void 0!==e.key}(e)){var t=e.key;if(!["Enter"," ","Tab","ArrowDown"].includes(t))return;("Tab"===t||"ArrowDown"===t)&&u.current&&n?(e.preventDefault(),m(0)):"Tab"!==t&&(e.preventDefault(),l(!0))}else u.current=!n,l(!n)},h=function(e){var t,n=e.key;if(["Tab","Shift","Enter","Escape","ArrowUp","ArrowDown"].includes(n)){var a=c.current;if("Escape"===n)return l(!1),void(null===(t=o.current)||void 0===t||t.focus());if("Tab"!==n){if("Enter"===n)return e.currentTarget.href||e.currentTarget.click(),void l(!1);null!==a&&("ArrowUp"===n?a-=1:"ArrowDown"===n&&(a+=1),a>s.current.length-1?a=0:a<0&&(a=s.current.length-1)),null!==a&&m(a)}else l(!1)}};return{buttonProps:{onKeyDown:f,onClick:f,tabIndex:0,ref:o,role:"button","aria-haspopup":!0,"aria-expanded":n},itemProps:a(Array(e)).map((function(e,t){return{onKeyDown:h,tabIndex:-1,role:"menuitem",ref:s.current[t]}})),isOpen:n,setIsOpen:l}}},function(e,t,n){e.exports=n(10)},,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(2),c=n.n(l),i=(n(9),n(3)),u=n.n(i),o=function(){var e=u()(3),t=e.buttonProps,n=e.itemProps,a=e.isOpen;return r.a.createElement("main",{className:"app"},r.a.createElement("h1",null,"React Accessible Dropdown Menu Hook"),r.a.createElement("h2",null,"A simple Hook for creating fully accessible dropdown menus in React"),r.a.createElement("button",Object.assign({},t,{type:"button",id:"menu-button"}),r.a.createElement("span",null,"Try me!"),r.a.createElement("i",{className:"fal fa-angle-down"})),r.a.createElement("div",{className:a?"visible":"",role:"menu",id:"menu"},r.a.createElement("a",Object.assign({},n[0],{href:"https://github.com/sparksuite/react-accessible-dropdown-menu-hook",id:"menu-item-1"}),r.a.createElement("i",{className:"fab fa-github fa-fw"}),"View on GitHub"),r.a.createElement("a",Object.assign({},n[1],{href:"https://www.npmjs.com/package/react-accessible-dropdown-menu-hook",id:"menu-item-2"}),r.a.createElement("i",{className:"fab fa-npm fa-fw"}),"View on npm"),r.a.createElement("a",Object.assign({},n[2],{onClick:function(){return alert("Click!")},id:"menu-item-3"}),r.a.createElement("i",{className:"fas fa-mouse fa-fw"}),"Item with click handler")),r.a.createElement("h3",null,"Behavior:"),r.a.createElement("ul",null,r.a.createElement("li",null,"The menu can be revealed by clicking the button, or by focusing the button and pressing enter / space"),r.a.createElement("li",null,"If the menu is revealed with the keyboard, the first menu item is automatically focused"),r.a.createElement("li",null,"If the menu is revealed with the mouse, the first menu item can be focused by pressing tab / arrow down"),r.a.createElement("li",null,r.a.createElement("em",null,"Once focus is in the menu\u2026"),r.a.createElement("ul",null,r.a.createElement("li",null,"The up / down arrow keys allow for navigation through the menu items (including wrapping from first to last and vice versa)"),r.a.createElement("li",null,"Pressing tab will close the menu and move the focus to the next focusable element"),r.a.createElement("li",null,"Pressing shift-tab will close the menu and move the focus to the previous focusable element"),r.a.createElement("li",null,"Pressing escape will close the menu and return the focus to the button"),r.a.createElement("li",null,"Pressing enter will activate that item and close the menu (whether it\u02bcs a link or has a click handler attached)")))),r.a.createElement("div",{className:"footer"},r.a.createElement("a",{href:"https://github.com/sparksuite/react-accessible-dropdown-menu-hook",id:"first-footer-link"},"View on GitHub ",r.a.createElement("i",{className:"fad fa-external-link"})),r.a.createElement("a",{href:"https://www.npmjs.com/package/react-accessible-dropdown-menu-hook"},"View on npm ",r.a.createElement("i",{className:"fad fa-external-link"})),"Built by\xa0",r.a.createElement("a",{href:"https://www.sparksuite.com",target:"_blank",rel:"noopener noreferrer"},"Sparksuite ",r.a.createElement("i",{className:"fad fa-external-link"}))))};c.a.render(r.a.createElement(o,null),document.getElementById("root"))}],[[4,1,2]]]);
//# sourceMappingURL=main.fcecb5ff.chunk.js.map